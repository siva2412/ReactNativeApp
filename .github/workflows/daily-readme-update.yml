
name: Daily README Update

on:
  schedule:
    - cron: "0 3 * * *"          # Runs daily at 3 AM IST approx
  workflow_dispatch:             # Manual trigger option

jobs:
  update-readme:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Update README with today's date
        run: |
          TODAY=$(date +"%Y-%m-%d")

          # Remove last line (in case it's old date)
          sed -i '$d' README.md

          # Add today's date
          echo "Updated on: $TODAY" >> README.md

      - name: Commit & push changes
        run: |
          git config --global user.name "siva2412"
          git config --global user.email "dsivasankar180@gmail.com"

          git add README.md
          git commit -m "Daily README update: $(date +'%Y-%m-%d')" || echo "No changes to commit"
          git push
